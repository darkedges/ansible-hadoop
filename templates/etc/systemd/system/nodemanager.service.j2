[Unit]
Description = NameNode server for HDFS.
After = syslog.target network.target remote-fs.target

[Service]
Type=forking
Environment=JAVA_HOME=/usr/java/default
ExecStart = {{ hadoop_usr_dir }}/sbin/yarn-daemon.sh --config {{ hadoop_conf_dir }} start nodemanager
ExecStop = {{ hadoop_usr_dir }}/sbin/yarn-daemon.sh --config {{ hadoop_conf_dir }} stop nodemanager
User = {{ yarn_user }}

[Install]
WantedBy = multi-user.target